"use strict";var round=function(t){return Math.round(10*t)/10},deg2rad=function(t){return t*Math.PI/180},CalcRadiusDistance=function(t,n,e,o){console.log("Chamando CalcRadiusDistance");var i=deg2rad(t),a=deg2rad(n),c=deg2rad(e),s=c-i,u=deg2rad(o)-a,r=Math.pow(Math.sin(s/2),2)+Math.cos(i)*Math.cos(c)*Math.pow(Math.sin(u/2),2),l=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r));return round(6373*l)},showPosition=function(t){console.log("showPosition"),console.log(t);var e,n=t.coords,o=n.latitude,i=n.longitude,a=1e5;locations.forEach(function(t){var n=CalcRadiusDistance(o,i,t.lat,t.long);n<a&&(e=t.name,a=n)});var c=document.getElementById(e);window.scrollTo(0,c.offsetTop),c.classList.add("active")},getLocation=function(t){console.log("getLocation"),t.preventDefault(),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(showPosition):alert("VocÃª precisa permitir")},geoloBtn=document.getElementById("geolo-btn"),locations=[];geoloBtn&&(geoloBtn.addEventListener("click",getLocation),fetch("./json/distribuidores.json").then(function(t){return t.json()}).then(function(t){t.locations.forEach(function(t){return locations.push(t)})}));var removeActiveClass=function(){mainMenu.classList.remove(activeClass),events.forEach(function(t){return document.removeEventListener(t,outsideClick)})},outsideClick=function(t){t.touches?t.touches[0].clientX>mainMenu.getBoundingClientRect().width&&removeActiveClass():t.touches||t.clientX>mainMenu.getBoundingClientRect().width&&removeActiveClass()},menuButtonClick=function(){mainMenu.classList.add(activeClass),events.forEach(function(t){return document.addEventListener(t,outsideClick)})},menuButton=document.querySelector("#menuBtn"),mainMenu=document.querySelector(".main-menu"),events=["click","touchstart"],activeClass="active";events.forEach(function(t){return menuButton.addEventListener(t,menuButtonClick)});